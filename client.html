<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MurmuresJS</title>
</head>
<body>
    <script src="static/character.js"></script>
    <script src="static/level.js"></script>
    <script type="text/javascript">
        'use strict';

        var sendAjax = (path, param, callback, async) => {
            let xhr = new XMLHttpRequest();
            xhr.open('POST', window.location.href + path, async);
            xhr.setRequestHeader('Content-Type', 'application/json');
            if (callback !== null) {
                xhr.onreadystatechange = function () {
                    if (xhr.readyState === 4) {
                        callback(xhr.responseText);
                    }
                };
            }
            xhr.send(param);
        };




        var renderLevel = (level) => {

            alert(level);
            // TODO

        };



    </script>
<p>Hello World, this page was served by node.js.</p>
<button type="button" onclick="sendAjax('getLevel', '{&quot;id&quot;:&quot;level1&quot;}', (response) => renderLevel(response), true)">Get level 1</button>
</body>
</html>